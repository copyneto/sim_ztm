sap.ui.define(["sap/m/MessageToast","sap/m/PDFViewer","sap/ui/model/Filter"],function(e,t,n){"use strict";return{onBeforeRendering:function(){this.getView().byId(this.byId("onRomaneioButton").getId()).setIcon("sap-icon://pdf-attachment")},getPDFData:func+
tion(e){let t=[];let a=this.templateBaseExtension.getExtensionAPI();var r=this.getView().getModel();let o=this.templateBaseExtension.getExtensionAPI().getSelectedContexts();for(let e of a.getSelectedContexts()){t.push(new n("docnum","EQ",e.getObject().do+
cnum))}return new Promise((e,n)=>{r.read("/PDF",{filters:t,success:function(t,n){e(t)},error:function(e){n(e)}})})},romaneio:async function(e){var n=this;var a=new t;n.getView().addDependent(a);var r=await n.getPDFData(e);if(r===""){MessageBox.error("Err+
o ao gerar PDF");return}let o=r.results[0].stream_data;let s=atob(o);let i=new Uint8Array(s.length);for(var l=0;l<s.length;l++){i[l]=s.charCodeAt(l)}var u=new Blob([i.buffer],{type:"application/pdf"});var c=URL.createObjectURL(u);jQuery.sap.addUrlWhiteli+
st("blob");a.setSource(c);a.setVisible(true);a.setTitle("Minuta de Faturamento");a.open()}}});                                                                                                                                                                 
//# sourceMappingURL=ListReportExt.controller.js.map                                                                                                                                                                                                           